# =============================================================================
# AUTONOMOUS ROBOT - MODE CONFIGURATION
# =============================================================================
# Configuration for all operation modes
# Edit these values to tune robot behavior

# =============================================================================
# LINE FOLLOWING MODE
# =============================================================================
line_following:
  # Speed Control
  base_speed: 1.2          # Base forward speed (m/s)
  max_speed: 2.0           # Maximum speed on straight sections
  min_speed: 0.5           # Minimum speed during sharp turns
  
  # Steering Control (PD-like)
  steering_gain: 3.0       # Position error gain (rad/s per unit error)
  heading_gain: 0.8        # Heading error gain (anticipatory steering)
  
  # Search Behavior (when line is lost)
  search_yaw_rate: 0.6     # Yaw rate when searching (rad/s)
  max_frames_lost: 30      # Stop completely after this many frames
  
  # Speed Modulation
  curvature_slowdown: 0.8  # How much to slow down in curves (0-1)

# =============================================================================
# OBJECT TRACKING MODE (Coming Soon)
# =============================================================================
object_tracking:
  # Target Selection
  target_class: "person"   # Class to track (person, car, etc.)
  min_confidence: 0.5      # Minimum detection confidence
  
  # Following Behavior
  target_distance: 1.5     # Desired distance from target (m)
  max_speed: 1.5           # Maximum following speed
  
  # Tracking
  tracking_timeout: 2.0    # Seconds before target is considered lost
  search_pattern: "spiral" # Search pattern when lost

# =============================================================================
# PATROL MODE (Coming Soon)
# =============================================================================
patrol:
  # Patrol Path
  waypoints: []            # List of (x, y) waypoints
  loop: true               # Loop patrol path
  
  # Detection
  detect_classes:          # Classes to detect and alert
    - "person"
  alert_cooldown: 30       # Seconds between alerts for same detection
  
  # Navigation
  patrol_speed: 0.8        # Speed during patrol
  arrival_threshold: 0.3   # Distance to consider waypoint reached (m)

# =============================================================================
# SAFETY LIMITS
# =============================================================================
safety:
  max_velocity: 2.5        # Absolute maximum velocity (m/s)
  max_yaw_rate: 2.0        # Absolute maximum yaw rate (rad/s)
  max_acceleration: 3.0    # Maximum acceleration (m/sÂ²)
  emergency_stop_distance: 0.3  # Stop if obstacle closer than this (m)
  
# =============================================================================
# CONTROL LOOP
# =============================================================================
control:
  loop_rate_hz: 30         # Main control loop frequency
  command_rate_hz: 10      # UART command rate
  feedback_rate_hz: 33     # Expected feedback rate from STM32
